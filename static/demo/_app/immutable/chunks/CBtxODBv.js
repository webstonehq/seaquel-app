var i=Object.defineProperty;var l=(a,e,t)=>e in a?i(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var s=(a,e,t)=>l(a,typeof e!="symbol"?e+"":e,t);import{d as m,a as b,b as p,c as w,e as k}from"./4RHrTr5V.js";class f{constructor(){s(this,"id","duckdb-tauri")}isAvailable(){return typeof window<"u"&&"__TAURI__"in window}async connect(e){let t=e.databaseName||":memory:";return e.connectionString&&(t=e.connectionString.replace(/^duckdb:\/\//,"").replace(/^duckdb:/,"")||":memory:"),(await m(t)).connection_id}async disconnect(e){await b(e)}async select(e,t,n){const c=await p(e,t);return c.rows.map(d=>{const r={};return c.columns.forEach((o,u)=>{r[o]=d[u]}),r})}async execute(e,t,n){return{rowsAffected:(await w(e,t)).rows_affected}}async test(e){let t=e.databaseName||":memory:";e.connectionString&&(t=e.connectionString.replace(/^duckdb:\/\//,"").replace(/^duckdb:/,"")||":memory:"),await k(t)}}export{f as DuckDBTauriProvider};
