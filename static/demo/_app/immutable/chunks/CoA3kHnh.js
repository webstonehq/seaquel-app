var l=Object.defineProperty;var m=(c,e,t)=>e in c?l(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t;var o=(c,e,t)=>m(c,typeof e!="symbol"?e+"":e,t);import{i as n}from"./DSoDdw3M.js";class k{constructor(){o(this,"id","duckdb-tauri")}isAvailable(){return typeof window<"u"&&"__TAURI__"in window}async connect(e){let t=e.databaseName||":memory:";return e.connectionString&&(t=e.connectionString.replace(/^duckdb:\/\//,"").replace(/^duckdb:/,"")||":memory:"),(await n("duckdb_connect",{path:t})).connection_id}async disconnect(e){await n("duckdb_disconnect",{connectionId:e})}async select(e,t,r){const a=await n("duckdb_query",{connectionId:e,sql:t});return a.rows.map(s=>{const d={};return a.columns.forEach((i,u)=>{d[i]=s[u]}),d})}async execute(e,t,r){return{rowsAffected:(await n("duckdb_execute",{connectionId:e,sql:t})).rows_affected}}async test(e){let t=e.databaseName||":memory:";e.connectionString&&(t=e.connectionString.replace(/^duckdb:\/\//,"").replace(/^duckdb:/,"")||":memory:"),await n("duckdb_test",{path:t})}}export{k as DuckDBTauriProvider};
