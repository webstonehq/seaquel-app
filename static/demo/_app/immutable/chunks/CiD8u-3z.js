var l=Object.defineProperty;var d=(e,a,t)=>a in e?l(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t;var s=(e,a,t)=>d(e,typeof a!="symbol"?a+"":a,t);import{g as u,l as w,r as h}from"./4RHrTr5V.js";class n{constructor(a,t,r){this.store=a,this.filename=t,this.dataDir=r}async get(a){return await this.store.get(a)}async set(a,t){await this.store.set(a,t)}async save(){await this.store.save()}async clear(){await this.store.clear()}async delete(){await this.store.clear(),await this.store.save();try{await h(`${this.dataDir}/${this.filename}`)}catch{}}}class v{constructor(){s(this,"id","tauri")}isAvailable(){return typeof window<"u"&&"__TAURI__"in window}async load(a,t){const r=await u(),i=`${r}/${a}`,c=await w(i,{autoSave:(t==null?void 0:t.autoSave)??!0,defaults:(t==null?void 0:t.defaults)??{}});return new n(c,a,r)}}export{v as TauriStorageProvider};
