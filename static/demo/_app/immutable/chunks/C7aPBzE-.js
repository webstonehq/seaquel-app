import"./Bzak7iHL.js";import{p as ke,f as m,j as We,a as ye,u as ar,e as g,h as oe,c as i,s as d,g as t,i as ee,r as l,n as Z,t as F,ao as sr}from"./s46vk8Jw.js";import{s as V}from"./DtPKuzlZ.js";import{c as re,a,d as or,f as _,t as Ve}from"./DN3X4kc0.js";import{s as Oe,r as Je,i as Q,p as Xe}from"./2OVp_Qab.js";import{e as Ye,B as pe}from"./Cancu-m9.js";import{s as Be,c as nr,b as Ze,d as lr}from"./CUB-rzCD.js";import{u as Ke,C as cr,a as Ae,P as we,g as ir,b as Ge,h as ur,p as dr,V as _r,S as vr,D as fr,i as mr,F as hr,j as gr,k as pr}from"./DqC4kOKi.js";import{C as xr,c as wr,d as kr,b as yr}from"./DheJj1GP.js";import{B as Le,f as br,C as er,h as rr,i as Pr,j as Sr,k as Cr,s as zr,l as Re}from"./Drk8VXU9.js";import{I as Ue}from"./BmHSYkZA.js";import{c as D,b as qr}from"./De42ds-N.js";import{g as ce}from"./CluvpHAZ.js";function Er(s,e){ke(e,!0);/**
 * @license @lucide/svelte v0.561.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let r=Je(e,["$$slots","$$events","$$legacy"]);const L=[["circle",{cx:"12",cy:"12",r:"10"}]];Ue(s,Oe({name:"circle"},()=>r,{get iconNode(){return L},children:(T,k)=>{var S=re(),n=m(S);Be(n,()=>e.children??We),a(T,S)},$$slots:{default:!0}})),ye()}function tr(s,e){ke(e,!0);/**
 * @license @lucide/svelte v0.561.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let r=Je(e,["$$slots","$$events","$$legacy"]);const L=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5"}],["path",{d:"M9 18h6"}],["path",{d:"M10 22h4"}]];Ue(s,Oe({name:"lightbulb"},()=>r,{get iconNode(){return L},children:(T,k)=>{var S=re(),n=m(S);Be(n,()=>e.children??We),a(T,S)},$$slots:{default:!0}})),ye()}function $r(s,e){ke(e,!0);/**
 * @license @lucide/svelte v0.561.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let r=Je(e,["$$slots","$$events","$$legacy"]);const L=[["path",{d:"M21 4v16"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z"}]];Ue(s,Oe({name:"skip-forward"},()=>r,{get iconNode(){return L},children:(T,k)=>{var S=re(),n=m(S);Be(n,()=>e.children??We),a(T,S)},$$slots:{default:!0}})),ye()}const be=()=>"Results",Qr=be,Tr=be,Nr=be,jr=be,Fr=be,Vr=(s={},e={})=>{const r=e.locale??ce();return r==="en"?be():r==="es"?Qr():r==="ar"?Tr():r==="de"?Nr():r==="ko"?jr():Fr()},Pe=s=>`${s==null?void 0:s.count} row`,Ir=Pe,Rr=Pe,Br=Pe,Mr=Pe,Hr=Pe,Dr=(s,e={})=>{const r=e.locale??ce();return r==="en"?Pe(s):r==="es"?Ir(s):r==="ar"?Rr(s):r==="de"?Br(s):r==="ko"?Mr(s):Hr(s)},Se=s=>`${s==null?void 0:s.count} rows`,Lr=Se,Ar=Se,Gr=Se,Wr=Se,Or=Se,Jr=(s,e={})=>{const r=e.locale??ce();return r==="en"?Se(s):r==="es"?Lr(s):r==="ar"?Ar(s):r==="de"?Gr(s):r==="ko"?Wr(s):Or(s)},Ce=()=>"Error",Kr=Ce,Ur=Ce,Xr=Ce,Yr=Ce,Zr=Ce,et=(s={},e={})=>{const r=e.locale??ce();return r==="en"?Ce():r==="es"?Kr():r==="ar"?Ur():r==="de"?Xr():r==="ko"?Yr():Zr()},ze=()=>"Error copied to clipboard",rt=ze,tt=ze,at=ze,st=ze,ot=ze,nt=(s={},e={})=>{const r=e.locale??ce();return r==="en"?ze():r==="es"?rt():r==="ar"?tt():r==="de"?at():r==="ko"?st():ot()},qe=()=>"Failed to copy error",lt=qe,ct=qe,it=qe,ut=qe,dt=qe,_t=(s={},e={})=>{const r=e.locale??ce();return r==="en"?qe():r==="es"?lt():r==="ar"?ct():r==="de"?it():r==="ko"?ut():dt()},Ee=()=>"Query executed successfully. No rows returned.",vt=Ee,ft=Ee,mt=Ee,ht=Ee,gt=Ee,pt=(s={},e={})=>{const r=e.locale??ce();return r==="en"?Ee():r==="es"?vt():r==="ar"?ft():r==="de"?mt():r==="ko"?ht():gt()},$e=()=>'Build a query and click "Run Query" to see results',xt=$e,wt=$e,kt=$e,yt=$e,bt=$e,Pt=(s={},e={})=>{const r=e.locale??ce();return r==="en"?$e():r==="es"?xt():r==="ar"?wt():r==="de"?kt():r==="ko"?yt():bt()};var St=_('<button type="button"></button>'),Ct=_('<div class="flex items-center gap-1"></div>'),zt=_('<div class="flex items-center justify-between"><!> <!></div> <!>',1),qt=_('<div class="flex items-center gap-2 text-sm"><!> <span> </span></div>'),Et=_('<div class="p-3 bg-muted rounded-md"><div class="flex items-start gap-2"><!> <p class="text-sm"> </p></div></div>'),$t=_("<!> Show Hint",1),Qt=_("<!> Previous",1),Tt=_("Next <!>",1),Nt=_("Finish <!>",1),jt=_("Skip <!>",1),Ft=_('<p class="text-sm text-muted-foreground"> </p> <div class="space-y-2"></div> <!> <div class="flex items-center justify-between pt-2"><div class="flex items-center gap-1"><!></div> <div class="flex items-center gap-1"><!></div></div>',1),Vt=_("<!> <!>",1);function _a(s,e){ke(e,!0);const r=ee(()=>e.challengeIndex>0),L=ee(()=>e.challengeIndex<e.totalChallenges-1),T=Ke();let k=oe(!1);ar(()=>{e.challengeIndex,g(k,!1)});const S=ee(()=>T.customSql??T.generatedSql),n=ee(()=>e.challenge.criteria.map(C=>({...C,satisfied:C.check(T.snapshot,t(S))}))),$=ee(()=>t(n).every(C=>C.satisfied)),G=ee(()=>t(n).filter(C=>C.satisfied).length);xr(s,{class:"border-primary/20",children:(C,Qe)=>{var xe=Vt(),ie=m(xe);wr(ie,{class:"pb-2",children:(j,ue)=>{var te=zt(),A=m(te),W=i(A);{var O=h=>{var b=Ct();Ye(b,23,()=>e.allChallenges,z=>z.id,(z,u,q)=>{var o=St();o.__click=()=>{var c;return(c=e.onGoTo)==null?void 0:c.call(e,t(q))},F(c=>{Ze(o,1,c),lr(o,"title",`Challenge ${t(q)+1}`)},[()=>{var c;return nr(["size-2 rounded-full transition-colors",t(q)===e.challengeIndex?"bg-primary ring-2 ring-primary/30":(c=e.completedChallenges)!=null&&c.has(t(u).id)?"bg-green-500 hover:bg-green-400":"bg-muted-foreground/30 hover:bg-muted-foreground/50"])}]),a(z,o)}),l(b),a(h,b)},ne=h=>{Le(h,{variant:"secondary",children:(b,z)=>{Z();var u=Ve();F(()=>V(u,`Challenge ${e.challengeIndex+1} of ${e.totalChallenges??""}`)),a(b,u)},$$slots:{default:!0}})};Q(W,h=>{e.allChallenges&&e.onGoTo?h(O):h(ne,!1)})}var de=d(W,2);{var I=h=>{Le(h,{class:"bg-green-500 text-white",children:(b,z)=>{Z();var u=Ve("Complete!");a(b,u)},$$slots:{default:!0}})},R=h=>{Le(h,{variant:"outline",children:(b,z)=>{Z();var u=Ve();F(()=>V(u,`${t(G)??""}/${t(n).length??""}`)),a(b,u)},$$slots:{default:!0}})};Q(de,h=>{t($)?h(I):h(R,!1)})}l(A);var J=d(A,2);kr(J,{class:"text-base",children:(h,b)=>{Z();var z=Ve();F(()=>V(z,e.challenge.title)),a(h,z)},$$slots:{default:!0}}),a(j,te)},$$slots:{default:!0}});var Te=d(ie,2);yr(Te,{class:"space-y-4",children:(j,ue)=>{var te=Ft(),A=m(te),W=i(A,!0);l(A);var O=d(A,2);Ye(O,21,()=>t(n),o=>o.id,(o,c)=>{var p=qt(),E=i(p);{var x=P=>{er(P,{class:"size-4 text-green-500 shrink-0"})},f=P=>{Er(P,{class:"size-4 text-muted-foreground shrink-0"})};Q(E,P=>{t(c).satisfied?P(x):P(f,!1)})}var v=d(E,2);let y;var w=i(v,!0);l(v),l(p),F(()=>{y=Ze(v,1,"",null,y,{"text-muted-foreground":!t(c).satisfied}),V(w,t(c).description)}),a(o,p)}),l(O);var ne=d(O,2);{var de=o=>{var c=re(),p=m(c);{var E=f=>{var v=Et(),y=i(v),w=i(y);tr(w,{class:"size-4 text-yellow-500 shrink-0 mt-0.5"});var P=d(w,2),B=i(P,!0);l(P),l(y),l(v),F(()=>V(B,e.challenge.hint)),a(f,v)},x=f=>{pe(f,{variant:"ghost",size:"sm",onclick:()=>g(k,!0),children:(v,y)=>{var w=$t(),P=m(w);tr(P,{class:"size-4 mr-2"}),Z(),a(v,w)},$$slots:{default:!0}})};Q(p,f=>{t(k)?f(E):f(x,!1)})}a(o,c)};Q(ne,o=>{e.challenge.hint&&o(de)})}var I=d(ne,2),R=i(I),J=i(R);{var h=o=>{pe(o,{variant:"ghost",size:"sm",get onclick(){return e.onPrevious},children:(c,p)=>{var E=Qt(),x=m(E);cr(x,{class:"size-4 mr-1"}),Z(),a(c,E)},$$slots:{default:!0}})};Q(J,o=>{t(r)&&e.onPrevious&&o(h)})}l(R);var b=d(R,2),z=i(b);{var u=o=>{var c=re(),p=m(c);{var E=f=>{pe(f,{size:"sm",get onclick(){return e.onComplete},children:(v,y)=>{Z();var w=Tt(),P=d(m(w));br(P,{class:"size-4 ml-1"}),a(v,w)},$$slots:{default:!0}})},x=f=>{pe(f,{size:"sm",get onclick(){return e.onComplete},children:(v,y)=>{Z();var w=Nt(),P=d(m(w));er(P,{class:"size-4 ml-1"}),a(v,w)},$$slots:{default:!0}})};Q(p,f=>{t(L)?f(E):f(x,!1)})}a(o,c)},q=o=>{var c=re(),p=m(c);{var E=x=>{pe(x,{variant:"ghost",size:"sm",get onclick(){return e.onSkip},children:(f,v)=>{Z();var y=jt(),w=d(m(y));$r(w,{class:"size-4 ml-1"}),a(f,y)},$$slots:{default:!0}})};Q(p,x=>{t(L)&&x(E)},!0)}a(o,c)};Q(z,o=>{t($)?o(u):o(q,!1)})}l(b),l(I),F(()=>V(W,e.challenge.description)),a(j,te)},$$slots:{default:!0}}),a(C,xe)},$$slots:{default:!0}}),ye()}or(["click"]);var It=_("<!> Copy",1),Rt=_('<div class="flex h-full flex-col border-b"><div class="flex items-center justify-between border-b bg-muted/50 px-3 py-2"><span class="text-sm font-medium">SQL</span> <div class="flex items-center gap-1"><!></div></div> <div class="min-h-0 flex-1"><!></div></div>'),Bt=_('<span class="text-xs text-muted-foreground"> <!></span>'),Mt=_('<div class="bg-destructive/10 p-4 text-sm text-destructive"><div class="flex items-start justify-between gap-2"><div><p class="font-medium"> </p> <p class="mt-1 font-mono text-xs"> </p></div> <!></div></div>'),Ht=_('<div class="p-4 text-center text-sm text-muted-foreground"> </div>'),Dt=_('<div class="p-4 text-center text-sm text-muted-foreground"> </div>'),Lt=_('<div class="flex h-full flex-col"><div class="flex items-center justify-between border-b bg-muted/50 px-3 py-2"><span class="text-sm font-medium"> </span> <!></div> <div class="min-h-0 flex-1 overflow-auto"><!></div></div>'),At=_("<!> <!> <!>",1),Gt=_('<div class="flex h-full flex-col"><!></div> <!>',1);function Wt(s,e){ke(e,!0);let r=Xe(e,"value",3,"");const T=Xe(e,"enableVisualSync",3,!1)()?Ke():null;let k=oe(""),S=oe(!1),n=oe(null),$=oe(null),G=oe(null),C=oe(!1),Qe=oe(sr([]));ar(()=>{g(k,r())});const xe=ee(()=>t(n)&&t(n).length>0?Object.keys(t(n)[0]):[]),ie=ee(()=>t(k).trim().length>0&&!t(S));function Te(u){var q;if(g(k,u,!0),(q=e.onSqlChange)==null||q.call(e,u),T){const o=dr(u,{validTableNames:null});o&&T.applyFromParsedSql(o)}}function j(){if(t(ie))if(Pr(t(k))){const u=Sr(t(k));g(Qe,Cr(u),!0),g(C,!0)}else A(t(k))}function ue(u){g(C,!1);const q=e.executor.dbType??"duckdb",{sql:o}=zr(t(k),u,q);A(o)}function te(){g(C,!1)}async function A(u){var o,c;g(S,!0),(o=e.onExecutingChange)==null||o.call(e,!0),g($,null);const q=performance.now();try{g(n,await e.executor.execute(u),!0),g(G,performance.now()-q)}catch(p){g($,p instanceof Error?p.message:String(p),!0),g(n,null),g(G,null)}finally{g(S,!1),(c=e.onExecutingChange)==null||c.call(e,!1)}}async function W(){try{await navigator.clipboard.writeText(t(k)),Re.success("SQL copied to clipboard")}catch{Re.error("Failed to copy")}}async function O(){if(t($))try{await navigator.clipboard.writeText(t($)),Re.success(nt())}catch{Re.error(_t())}}function ne(){g(n,null),g($,null),g(G,null)}function de(){j()}function I(){return{isExecuting:t(S),queryResults:t(n),queryError:t($),executionTime:t(G),canRunQuery:t(ie)}}var R={reset:ne,executeQuery:de,getState:I},J=Gt(),h=m(J),b=i(h);D(b,()=>Ae,(u,q)=>{q(u,{direction:"vertical",class:"flex-1",children:(o,c)=>{var p=At(),E=m(p);D(E,()=>we,(v,y)=>{y(v,{defaultSize:50,minSize:20,children:(w,P)=>{var B=Rt(),K=i(B),ae=d(i(K),2),Ne=i(ae);pe(Ne,{variant:"ghost",size:"sm",class:"h-7 gap-1.5 px-2 text-xs",onclick:W,children:(X,Ie)=>{var M=It(),_e=m(M);rr(_e,{class:"size-3.5"}),Z(),a(X,M)},$$slots:{default:!0}}),l(ae),l(K);var U=d(K,2),se=i(U);ir(se,{get schema(){return e.schema},onChange:Te,onExecute:j,get value(){return t(k)},set value(X){g(k,X,!0)}}),l(U),l(B),a(w,B)},$$slots:{default:!0}})});var x=d(E,2);D(x,()=>Ge,(v,y)=>{y(v,{withHandle:!0})});var f=d(x,2);D(f,()=>we,(v,y)=>{y(v,{defaultSize:50,minSize:15,children:(w,P)=>{var B=Lt(),K=i(B),ae=i(K),Ne=i(ae,!0);l(ae);var U=d(ae,2);{var se=H=>{var Y=Bt(),ve=i(Y),fe=d(ve);{var me=N=>{var le=Ve();F(je=>V(le,`Â· ${je??""}ms`),[()=>t(G).toFixed(0)]),a(N,le)};Q(fe,N=>{t(G)!==null&&N(me)})}l(Y),F(N=>V(ve,`${N??""} `),[()=>t(n).length===1?Dr({count:1}):Jr({count:t(n).length})]),a(H,Y)};Q(U,H=>{t(n)!==null&&H(se)})}l(K);var X=d(K,2),Ie=i(X);{var M=H=>{var Y=Mt(),ve=i(Y),fe=i(ve),me=i(fe),N=i(me,!0);l(me);var le=d(me,2),je=i(le,!0);l(le),l(fe);var Me=d(fe,2);pe(Me,{variant:"ghost",size:"icon",class:"size-8 shrink-0 text-destructive/70 hover:bg-destructive/10 hover:text-destructive",onclick:O,children:(Fe,he)=>{rr(Fe,{class:"size-4"})},$$slots:{default:!0}}),l(ve),l(Y),F(Fe=>{V(N,Fe),V(je,t($))},[()=>et()]),a(H,Y)},_e=H=>{var Y=re(),ve=m(Y);{var fe=N=>{_r(N,{get columns(){return t(xe)},get rows(){return t(n)},compact:!0})},me=N=>{var le=re(),je=m(le);{var Me=he=>{var ge=Ht(),He=i(ge,!0);l(ge),F(De=>V(He,De),[()=>pt()]),a(he,ge)},Fe=he=>{var ge=Dt(),He=i(ge,!0);l(ge),F(De=>V(He,De),[()=>Pt()]),a(he,ge)};Q(je,he=>{t(n)!==null?he(Me):he(Fe,!1)},!0)}a(N,le)};Q(ve,N=>{t(n)!==null&&t(n).length>0?N(fe):N(me,!1)},!0)}a(H,Y)};Q(Ie,H=>{t($)?H(M):H(_e,!1)})}l(X),l(B),F(H=>V(Ne,H),[()=>Vr()]),a(w,B)},$$slots:{default:!0}})}),a(o,p)},$$slots:{default:!0}})}),l(h);var z=d(h,2);return ur(z,{get parameters(){return t(Qe)},onExecute:ue,onCancel:te,get open(){return t(C)},set open(u){g(C,u,!0)}}),a(s,J),ye(R)}var Ot=_('<div class="h-full"><!></div>'),Jt=_('<div class="h-full"><!></div>'),Kt=_("<!> <!> <!>",1),Ut=_('<div class="h-full border-l"><!></div>'),Xt=_("<!> <!> <!>",1),Yt=_('<div class="flex-1 flex min-h-0"><!> <!></div>');function va(s,e){ke(e,!0);const r=Ke(),L={execute:pr,dbType:"duckdb"},T=gr(),k=ee(()=>r.customSql??r.generatedSql);function S(j){r.customSql=j}let n,$=oe(!1);const G=ee(()=>t(k).trim().length>0&&!t($));function C(){n==null||n.reset()}async function Qe(){n==null||n.executeQuery()}function xe(j){var ue;g($,j,!0),(ue=e.onExecutingChange)==null||ue.call(e,j)}function ie(){return{canRunQuery:t(G),isExecuting:t($)}}var Te={reset:C,runQuery:Qe,getState:ie};return vr(s,{children:(j,ue)=>{fr(j,{children:(te,A)=>{var W=Yt(),O=i(W);{var ne=I=>{var R=re(),J=m(R);Be(J,()=>e.leftPanel),a(I,R)};Q(O,I=>{e.leftPanel&&I(ne)})}var de=d(O,2);D(de,()=>Ae,(I,R)=>{R(I,{direction:"horizontal",class:"flex-1",children:(J,h)=>{var b=Xt(),z=m(b);D(z,()=>we,(o,c)=>{c(o,{defaultSize:55,minSize:30,children:(p,E)=>{var x=re(),f=m(x);D(f,()=>Ae,(v,y)=>{y(v,{direction:"vertical",children:(w,P)=>{var B=Kt(),K=m(B);D(K,()=>we,(U,se)=>{se(U,{defaultSize:55,minSize:15,children:(X,Ie)=>{var M=Ot(),_e=i(M);mr(_e,{}),l(M),a(X,M)},$$slots:{default:!0}})});var ae=d(K,2);D(ae,()=>Ge,(U,se)=>{se(U,{withHandle:!0})});var Ne=d(ae,2);D(Ne,()=>we,(U,se)=>{se(U,{defaultSize:45,minSize:10,children:(X,Ie)=>{var M=Jt(),_e=i(M);hr(_e,{}),l(M),a(X,M)},$$slots:{default:!0}})}),a(w,B)},$$slots:{default:!0}})}),a(p,x)},$$slots:{default:!0}})});var u=d(z,2);D(u,()=>Ge,(o,c)=>{c(o,{withHandle:!0})});var q=d(u,2);D(q,()=>we,(o,c)=>{c(o,{defaultSize:45,minSize:20,children:(p,E)=>{var x=Ut(),f=i(x);qr(Wt(f,{get executor(){return L},get value(){return t(k)},onSqlChange:S,onExecutingChange:xe,get schema(){return T},enableVisualSync:!0}),v=>n=v,()=>n),l(x),a(p,x)},$$slots:{default:!0}})}),a(J,b)},$$slots:{default:!0}})}),l(W),a(te,W)},$$slots:{default:!0}})},$$slots:{default:!0}}),ye(Te)}export{_a as C,va as W};
