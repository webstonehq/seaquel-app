var a=Object.defineProperty;var d=(e,n,t)=>n in e?a(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var s=(e,n,t)=>d(e,typeof n!="symbol"?n+"":n,t);import c from"./BwS8fZGC.js";class f{constructor(){s(this,"id","tauri");s(this,"connections",new Map)}isAvailable(){return typeof window<"u"&&"__TAURI__"in window}async connect(n){if(!n.connectionString)throw new Error("Connection string is required for Tauri provider");const t=`tauri-${n.type}-${Date.now()}`,i=await c.load(n.connectionString);return this.connections.set(t,i),t}async disconnect(n){const t=this.connections.get(n);t&&(await t.close(),this.connections.delete(n))}async select(n,t,i){const r=this.connections.get(n);if(!r)throw new Error(`Connection not found: ${n}`);return r.select(t,i)}async execute(n,t,i){const r=this.connections.get(n);if(!r)throw new Error(`Connection not found: ${n}`);const o=await r.execute(t,i);return{rowsAffected:(o==null?void 0:o.rowsAffected)??0,lastInsertId:o==null?void 0:o.lastInsertId}}async test(n){if(!n.connectionString)throw new Error("Connection string is required for Tauri provider");await(await c.load(n.connectionString)).close()}getDatabase(n){return this.connections.get(n)}}export{f as TauriDatabaseProvider};
