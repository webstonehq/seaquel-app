import"./Bzak7iHL.js";import{t as b,q as v,v as B,B as Z,aL as p,A as S,C as F,a2 as w,aa as x,a3 as $,T,a0 as g,a4 as L,I as ee,m as te,aM as re,p as k,f as I,a as N,s as ae,at as h,o as oe,g as ne,i as se}from"./DRf2hNXU.js";import{g as O,j as ie,c as J,a as _,f as E}from"./DX5cEFxE.js";import{i as P,p as f}from"./aDXV6Exz.js";import{d as V}from"./2Cr_4CmO.js";import{u as Y,c as le,m as y,t as M,a as H,l as R,b as j,e as C,s as q,d as ce,f as de,g as D,i as me}from"./DobD9B8r.js";function fe(i,e,a=!1,n=!1,l=!1){var t=i,o="";b(()=>{var s=Z;if(o===(o=e()??"")){v&&B();return}if(s.nodes!==null&&(p(s.nodes.start,s.nodes.end),s.nodes=null),o!==""){if(v){S.data;for(var r=B(),c=r;r!==null&&(r.nodeType!==F||r.data!=="");)c=r,r=w(r);if(r===null)throw x(),$;O(S,c),t=T(r);return}var d=o+"";a?d=`<svg>${d}</svg>`:n&&(d=`<math>${d}</math>`);var m=ie(d);if((a||n)&&(m=g(m)),O(g(m),m.lastChild),a||n)for(;g(m);)t.before(g(m));else t.before(m)}})}function ue(i,e){let a=null,n=v;var l;if(v){a=S;for(var t=g(document.head);t!==null&&(t.nodeType!==F||t.data!==i);)t=w(t);if(t===null)L(!1);else{var o=w(t);t.remove(),T(o)}}v||(l=document.head.appendChild(ee()));try{te(()=>e(l),re)}finally{n&&(L(!0),T(a))}}function he(i){Y.current=i}function Ee(){Y.current="system"}function ge(i){le.current=i}function ve({defaultMode:i="system",themeColors:e,darkClassNames:a=["dark"],lightClassNames:n=[],defaultTheme:l="",modeStorageKey:t="mode-watcher-mode",themeStorageKey:o="mode-watcher-theme"}){const s=document.documentElement,r=localStorage.getItem(t)??i,c=localStorage.getItem(o)??l,d=r==="light"||r==="system"&&window.matchMedia("(prefers-color-scheme: light)").matches;if(d?(a.length&&s.classList.remove(...a.filter(Boolean)),n.length&&s.classList.add(...n.filter(Boolean))):(n.length&&s.classList.remove(...n.filter(Boolean)),a.length&&s.classList.add(...a.filter(Boolean))),s.style.colorScheme=d?"light":"dark",e){const m=document.querySelector('meta[name="theme-color"]');m&&m.setAttribute("content",r==="light"?e.light:e.dark)}c&&(s.setAttribute("data-theme",c),localStorage.setItem(o,c)),localStorage.setItem(t,r)}var _e=E('<meta name="theme-color"/>');function ye(i,e){k(e,!0);var a=J(),n=I(a);{var l=t=>{var o=_e();b(()=>V(o,"content",e.themeColors.dark)),_(t,o)};P(n,t=>{e.themeColors&&t(l)})}_(i,a),N()}var Me=E('<meta name="theme-color"/>'),Ce=E("<!> <!>",1);function Se(i,e){k(e,!0);let a=f(e,"trueNonce",3,"");ue("1funsus",n=>{var l=Ce(),t=I(l);{var o=r=>{var c=Me();b(()=>V(c,"content",e.themeColors.dark)),_(r,c)};P(t,r=>{e.themeColors&&r(o)})}var s=ae(t,2);fe(s,()=>`<script${a()?` nonce=${a()}`:""}>(`+ve.toString()+")("+JSON.stringify(e.initConfig)+");<\/script>"),_(n,l)}),N()}function Pe(i,e){k(e,!0);let a=f(e,"track",3,!0),n=f(e,"defaultMode",3,"system"),l=f(e,"disableTransitions",3,!0),t=f(e,"darkClassNames",19,()=>["dark"]),o=f(e,"lightClassNames",19,()=>[]),s=f(e,"defaultTheme",3,""),r=f(e,"nonce",3,""),c=f(e,"themeStorageKey",3,"mode-watcher-theme"),d=f(e,"modeStorageKey",3,"mode-watcher-mode"),m=f(e,"disableHeadScriptInjection",3,!1),K=f(e,"synchronousModeChanges",3,!1);y.current=d(),M.current=c(),H.current=t(),R.current=o(),j.current=l(),C.current=e.themeColors,q.current=K(),h(()=>{q.current=K()}),h(()=>{j.current=l()}),h(()=>{C.current=e.themeColors}),h(()=>{H.current=t()}),h(()=>{R.current=o()}),h(()=>{y.current=d()}),h(()=>{M.current=c()}),h(()=>{ce.current,y.current,M.current,de.current}),oe(()=>{D.tracking(a()),D.query();const u=localStorage.getItem(y.current);he(me(u)?u:n());const X=localStorage.getItem(M.current);ge(X||s())});const z={defaultMode:n(),themeColors:e.themeColors,darkClassNames:t(),lightClassNames:o(),defaultTheme:s(),modeStorageKey:d(),themeStorageKey:c()},G=se(()=>typeof window>"u"?r():"");var A=J(),Q=I(A);{var U=u=>{ye(u,{get themeColors(){return C.current}})},W=u=>{Se(u,{get trueNonce(){return ne(G)},get initConfig(){return z},get themeColors(){return C.current}})};P(Q,u=>{m()?u(U):u(W,!1)})}_(i,A),N()}export{Pe as M,Ee as r,he as s};
