import{R as d,i as r,l as e}from"./DSoDdw3M.js";async function o(n,a){return await t.load(n,a)}class t extends d{constructor(a){super(a)}static async load(a,i){const s=await r("plugin:store|load",{path:a,options:i});return new t(s)}static async get(a){return await r("plugin:store|get_store",{path:a}).then(i=>i?new t(i):null)}async set(a,i){await r("plugin:store|set",{rid:this.rid,key:a,value:i})}async get(a){const[i,s]=await r("plugin:store|get",{rid:this.rid,key:a});return s?i:void 0}async has(a){return await r("plugin:store|has",{rid:this.rid,key:a})}async delete(a){return await r("plugin:store|delete",{rid:this.rid,key:a})}async clear(){await r("plugin:store|clear",{rid:this.rid})}async reset(){await r("plugin:store|reset",{rid:this.rid})}async keys(){return await r("plugin:store|keys",{rid:this.rid})}async values(){return await r("plugin:store|values",{rid:this.rid})}async entries(){return await r("plugin:store|entries",{rid:this.rid})}async length(){return await r("plugin:store|length",{rid:this.rid})}async reload(a){await r("plugin:store|reload",{rid:this.rid,...a})}async save(){await r("plugin:store|save",{rid:this.rid})}async onKeyChange(a,i){return await e("store://change",s=>{s.payload.resourceId===this.rid&&s.payload.key===a&&i(s.payload.exists?s.payload.value:void 0)})}async onChange(a){return await e("store://change",i=>{i.payload.resourceId===this.rid&&a(i.payload.key,i.payload.exists?i.payload.value:void 0)})}}export{o as l};
