import{i as t,R as d,l as u}from"./BNh9d8Tc.js";var r;(function(n){n[n.Audio=1]="Audio",n[n.Cache=2]="Cache",n[n.Config=3]="Config",n[n.Data=4]="Data",n[n.LocalData=5]="LocalData",n[n.Document=6]="Document",n[n.Download=7]="Download",n[n.Picture=8]="Picture",n[n.Public=9]="Public",n[n.Video=10]="Video",n[n.Resource=11]="Resource",n[n.Temp=12]="Temp",n[n.AppConfig=13]="AppConfig",n[n.AppData=14]="AppData",n[n.AppLocalData=15]="AppLocalData",n[n.AppCache=16]="AppCache",n[n.AppLog=17]="AppLog",n[n.Desktop=18]="Desktop",n[n.Executable=19]="Executable",n[n.Font=20]="Font",n[n.Home=21]="Home",n[n.Runtime=22]="Runtime",n[n.Template=23]="Template"})(r||(r={}));async function F(){return t("plugin:path|resolve_directory",{directory:r.AppConfig})}async function z(){return t("plugin:path|resolve_directory",{directory:r.AppData})}async function I(){return t("plugin:path|resolve_directory",{directory:r.Temp})}async function M(...n){return t("plugin:path|join",{paths:n})}async function j(n){return t("plugin:path|dirname",{path:n})}var l;(function(n){n[n.Start=0]="Start",n[n.Current=1]="Current",n[n.End=2]="End"})(l||(l={}));function p(n){return{isFile:n.isFile,isDirectory:n.isDirectory,isSymlink:n.isSymlink,size:n.size,mtime:n.mtime!==null?new Date(n.mtime):null,atime:n.atime!==null?new Date(n.atime):null,birthtime:n.birthtime!==null?new Date(n.birthtime):null,readonly:n.readonly,fileAttributes:n.fileAttributes,dev:n.dev,ino:n.ino,mode:n.mode,nlink:n.nlink,uid:n.uid,gid:n.gid,rdev:n.rdev,blksize:n.blksize,blocks:n.blocks}}function g(n){const e=new Uint8ClampedArray(n),i=e.byteLength;let a=0;for(let s=0;s<i;s++){const c=e[s];a*=256,a+=c}return a}class w extends d{async read(e){if(e.byteLength===0)return 0;const i=await t("plugin:fs|read",{rid:this.rid,len:e.byteLength}),a=g(i.slice(-8)),s=i instanceof ArrayBuffer?new Uint8Array(i):i;return e.set(s.slice(0,s.length-8)),a===0?null:a}async seek(e,i){return await t("plugin:fs|seek",{rid:this.rid,offset:e,whence:i})}async stat(){const e=await t("plugin:fs|fstat",{rid:this.rid});return p(e)}async truncate(e){await t("plugin:fs|ftruncate",{rid:this.rid,len:e})}async write(e){return await t("plugin:fs|write",{rid:this.rid,data:e})}}async function y(n,e){if(n instanceof URL&&n.protocol!=="file:")throw new TypeError("Must be a file URL.");const i=await t("plugin:fs|open",{path:n instanceof URL?n.toString():n,options:e});return new w(i)}async function O(n,e){if(n instanceof URL&&n.protocol!=="file:")throw new TypeError("Must be a file URL.");await t("plugin:fs|mkdir",{path:n instanceof URL?n.toString():n,options:e})}async function H(n,e){if(n instanceof URL&&n.protocol!=="file:")throw new TypeError("Must be a file URL.");return await t("plugin:fs|read_dir",{path:n instanceof URL?n.toString():n,options:e})}async function q(n,e){if(n instanceof URL&&n.protocol!=="file:")throw new TypeError("Must be a file URL.");const i=await t("plugin:fs|read_text_file",{path:n instanceof URL?n.toString():n,options:e}),a=i instanceof ArrayBuffer?i:Uint8Array.from(i);return new TextDecoder().decode(a)}async function J(n,e){if(n instanceof URL&&n.protocol!=="file:")throw new TypeError("Must be a file URL.");await t("plugin:fs|remove",{path:n instanceof URL?n.toString():n,options:e})}async function N(n,e,i){if(n instanceof URL&&n.protocol!=="file:"||e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");await t("plugin:fs|rename",{oldPath:n instanceof URL?n.toString():n,newPath:e instanceof URL?e.toString():e,options:i})}async function V(n,e,i){if(n instanceof URL&&n.protocol!=="file:")throw new TypeError("Must be a file URL.");if(e instanceof ReadableStream){const a=await y(n,{read:!1,create:!0,write:!0,...i}),s=e.getReader();try{for(;;){const{done:c,value:f}=await s.read();if(c)break;await a.write(f)}}finally{s.releaseLock(),await a.close()}}else await t("plugin:fs|write_file",e,{headers:{path:encodeURIComponent(n instanceof URL?n.toString():n),options:JSON.stringify(i)}})}async function K(n,e,i){if(n instanceof URL&&n.protocol!=="file:")throw new TypeError("Must be a file URL.");const a=new TextEncoder;await t("plugin:fs|write_text_file",a.encode(e),{headers:{path:encodeURIComponent(n instanceof URL?n.toString():n),options:JSON.stringify(i)}})}async function Q(n,e){if(n instanceof URL&&n.protocol!=="file:")throw new TypeError("Must be a file URL.");return await t("plugin:fs|exists",{path:n instanceof URL?n.toString():n,options:e})}async function G(n,e){return await o.load(n,e)}class o extends d{constructor(e){super(e)}static async load(e,i){const a=await t("plugin:store|load",{path:e,options:i});return new o(a)}static async get(e){return await t("plugin:store|get_store",{path:e}).then(i=>i?new o(i):null)}async set(e,i){await t("plugin:store|set",{rid:this.rid,key:e,value:i})}async get(e){const[i,a]=await t("plugin:store|get",{rid:this.rid,key:e});return a?i:void 0}async has(e){return await t("plugin:store|has",{rid:this.rid,key:e})}async delete(e){return await t("plugin:store|delete",{rid:this.rid,key:e})}async clear(){await t("plugin:store|clear",{rid:this.rid})}async reset(){await t("plugin:store|reset",{rid:this.rid})}async keys(){return await t("plugin:store|keys",{rid:this.rid})}async values(){return await t("plugin:store|values",{rid:this.rid})}async entries(){return await t("plugin:store|entries",{rid:this.rid})}async length(){return await t("plugin:store|length",{rid:this.rid})}async reload(e){await t("plugin:store|reload",{rid:this.rid,...e})}async save(){await t("plugin:store|save",{rid:this.rid})}async onKeyChange(e,i){return await u("store://change",a=>{a.payload.resourceId===this.rid&&a.payload.key===e&&i(a.payload.exists?a.payload.value:void 0)})}async onChange(e){return await u("store://change",i=>{i.payload.resourceId===this.rid&&e(i.payload.key,i.payload.exists?i.payload.value:void 0)})}}async function m(n){return t("duckdb_connect",{path:n})}async function b(n){await t("duckdb_disconnect",{connectionId:n})}async function L(n,e){return t("duckdb_query",{connectionId:n,sql:e})}async function R(n,e){return t("duckdb_execute",{connectionId:n,sql:e})}async function U(n){await t("duckdb_test",{path:n})}async function _(n){await t("copy_image_to_clipboard",{path:n})}async function h(n){await t("open_path",{path:n})}async function k(){return t("get_data_dir")}async function v(){await t("install_update")}async function A(){return t("read_dbeaver_config")}async function x(){return t("get_username")}async function T(n,e){return t("activate_license",{key:n,instanceName:e})}async function C(n,e){return t("validate_license",{key:n,instanceId:e})}async function E(n,e){return t("deactivate_license",{key:n,instanceId:e})}const P=Object.freeze(Object.defineProperty({__proto__:null,activateLicense:T,copyImageToClipboard:_,deactivateLicense:E,duckdbConnect:m,duckdbDisconnect:b,duckdbExecute:R,duckdbQuery:L,duckdbTest:U,getDataDir:k,getUsername:x,installUpdate:v,openPath:h,readDbeaverConfig:A,validateLicense:C},Symbol.toStringTag,{value:"Module"}));export{_ as A,P as B,b as a,L as b,R as c,m as d,U as e,A as f,k as g,H as h,q as i,M as j,Q as k,G as l,j as m,O as n,N as o,z as p,h as q,J as r,x as s,T as t,E as u,C as v,K as w,F as x,V as y,I as z};
