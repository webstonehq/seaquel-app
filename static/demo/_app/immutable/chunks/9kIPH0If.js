import"./Bzak7iHL.js";import{t as T,k as v,q as j,l as W,aI as x,j as S,C as F,X as w,a3 as p,Y as $,K as b,V as g,Z as A,x as ee,m as te,aJ as re,p as k,f as I,a as N,s as ae,a4 as h,o as oe,g as ne,b as se}from"./RtNAYh7v.js";import{g as B,j as ie,c as J,a as _,f as E}from"./G68d9aZ3.js";import{i as P,p as f}from"./Cezg9DFx.js";import{d as V}from"./CDLKInbX.js";import{u as Y,c as le,m as y,t as C,a as H,l as L,b as R,e as M,s as q,d as ce,f as de,g as D,i as me}from"./BQlQxc_j.js";function fe(i,e,a=!1,n=!1,l=!1){var t=i,o="";T(()=>{var s=W;if(o===(o=e()??"")){v&&j();return}if(s.nodes!==null&&(x(s.nodes.start,s.nodes.end),s.nodes=null),o!==""){if(v){S.data;for(var r=j(),c=r;r!==null&&(r.nodeType!==F||r.data!=="");)c=r,r=w(r);if(r===null)throw p(),$;B(S,c),t=b(r);return}var d=o+"";a?d=`<svg>${d}</svg>`:n&&(d=`<math>${d}</math>`);var m=ie(d);if((a||n)&&(m=g(m)),B(g(m),m.lastChild),a||n)for(;g(m);)t.before(g(m));else t.before(m)}})}function ue(i,e){let a=null,n=v;var l;if(v){a=S;for(var t=g(document.head);t!==null&&(t.nodeType!==F||t.data!==i);)t=w(t);if(t===null)A(!1);else{var o=w(t);t.remove(),b(o)}}v||(l=document.head.appendChild(ee()));try{te(()=>e(l),re)}finally{n&&(A(!0),b(a))}}function he(i){Y.current=i}function Ee(){Y.current="system"}function ge(i){le.current=i}function ve({defaultMode:i="system",themeColors:e,darkClassNames:a=["dark"],lightClassNames:n=[],defaultTheme:l="",modeStorageKey:t="mode-watcher-mode",themeStorageKey:o="mode-watcher-theme"}){const s=document.documentElement,r=localStorage.getItem(t)??i,c=localStorage.getItem(o)??l,d=r==="light"||r==="system"&&window.matchMedia("(prefers-color-scheme: light)").matches;if(d?(a.length&&s.classList.remove(...a.filter(Boolean)),n.length&&s.classList.add(...n.filter(Boolean))):(n.length&&s.classList.remove(...n.filter(Boolean)),a.length&&s.classList.add(...a.filter(Boolean))),s.style.colorScheme=d?"light":"dark",e){const m=document.querySelector('meta[name="theme-color"]');m&&m.setAttribute("content",r==="light"?e.light:e.dark)}c&&(s.setAttribute("data-theme",c),localStorage.setItem(o,c)),localStorage.setItem(t,r)}var _e=E('<meta name="theme-color"/>');function ye(i,e){k(e,!0);var a=J(),n=I(a);{var l=t=>{var o=_e();T(()=>V(o,"content",e.themeColors.dark)),_(t,o)};P(n,t=>{e.themeColors&&t(l)})}_(i,a),N()}var Ce=E('<meta name="theme-color"/>'),Me=E("<!> <!>",1);function Se(i,e){k(e,!0);let a=f(e,"trueNonce",3,"");ue("1funsus",n=>{var l=Me(),t=I(l);{var o=r=>{var c=Ce();T(()=>V(c,"content",e.themeColors.dark)),_(r,c)};P(t,r=>{e.themeColors&&r(o)})}var s=ae(t,2);fe(s,()=>`<script${a()?` nonce=${a()}`:""}>(`+ve.toString()+")("+JSON.stringify(e.initConfig)+");<\/script>"),_(n,l)}),N()}function Pe(i,e){k(e,!0);let a=f(e,"track",3,!0),n=f(e,"defaultMode",3,"system"),l=f(e,"disableTransitions",3,!0),t=f(e,"darkClassNames",19,()=>["dark"]),o=f(e,"lightClassNames",19,()=>[]),s=f(e,"defaultTheme",3,""),r=f(e,"nonce",3,""),c=f(e,"themeStorageKey",3,"mode-watcher-theme"),d=f(e,"modeStorageKey",3,"mode-watcher-mode"),m=f(e,"disableHeadScriptInjection",3,!1),K=f(e,"synchronousModeChanges",3,!1);y.current=d(),C.current=c(),H.current=t(),L.current=o(),R.current=l(),M.current=e.themeColors,q.current=K(),h(()=>{q.current=K()}),h(()=>{R.current=l()}),h(()=>{M.current=e.themeColors}),h(()=>{H.current=t()}),h(()=>{L.current=o()}),h(()=>{y.current=d()}),h(()=>{C.current=c()}),h(()=>{ce.current,y.current,C.current,de.current}),oe(()=>{D.tracking(a()),D.query();const u=localStorage.getItem(y.current);he(me(u)?u:n());const U=localStorage.getItem(C.current);ge(U||s())});const X={defaultMode:n(),themeColors:e.themeColors,darkClassNames:t(),lightClassNames:o(),defaultTheme:s(),modeStorageKey:d(),themeStorageKey:c()},Z=se(()=>typeof window>"u"?r():"");var O=J(),z=I(O);{var G=u=>{ye(u,{get themeColors(){return M.current}})},Q=u=>{Se(u,{get trueNonce(){return ne(Z)},get initConfig(){return X},get themeColors(){return M.current}})};P(z,u=>{m()?u(G):u(Q,!1)})}_(i,O),N()}export{Pe as M,Ee as r,he as s};
